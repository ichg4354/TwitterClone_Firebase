(this.webpackJsonptwitterclone=this.webpackJsonptwitterclone||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(37),i=n.n(r),o=n(9),s=n(6),l=n(20),d=n(38),u=n.n(d);n(50),n(59),n(60);u.a.config();l.a.initializeApp({apiKey:"AIzaSyBRYla7GovJIG7xkPKORfCIoIXa-JTKV9Q",authDomain:"twitterclone-2e56e.firebaseapp.com",projectId:"twitterclone-2e56e",storageBucket:"twitterclone-2e56e.appspot.com",messagingSenderId:"640360778098",appId:"1:640360778098:web:2bed7b4ac6efa31aa3b5eb"});var j,b,p,x,h,f,O,g,m,w,v,y,k,D,S,C,I,P,A,F,U,E,B,R,z,G,L,T,M,J,N,W,K,Y,q,H,Q=l.a.auth(),V=l.a.firestore(),X=l.a.storage(),Z=n(21),$=n(5),_=n(23),ee=n(10),te=n(2),ne=$.a.div(j||(j=Object(s.a)(["\n  height: 50px;\n  color: white;\n  display: flex;\n  position: fixed;\n  bottom: 0;\n  text-align: center;\n  width: 100vw;\n  z-index: 1;\n  background-color: black;\n  justify-content: space-evenly;\n  align-items: center;\n"]))),ae=$.a.ul(b||(b=Object(s.a)(["\n  text-decoration: none;\n  float: left;\n  list-style-type: none;\n  color: white;\n  padding: 0;\n  margin: 0;\n"]))),ce=$.a.li(p||(p=Object(s.a)(["\n  text-decoration: none;\n  float: left;\n  padding: 0;\n"]))),re=$.a.div(x||(x=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100px;\n  text-align: center;\n"]))),ie=$.a.span(h||(h=Object(s.a)(["\n  color: #1da1f2;\n  font-size: 6;\n  font-weight: 300;\n  text-decoration: none;\n"]))),oe=function(e){e.userData;var t=Object(ee.useLocation)().pathname;return Object(te.jsx)(ne,{children:Object(te.jsxs)(ae,{children:[Object(te.jsx)(ce,{children:Object(te.jsx)(Z.b,{to:"/",style:{textDecoration:"none"},children:Object(te.jsxs)(re,{children:["/"===t?Object(te.jsx)(_.d,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}):Object(te.jsx)(_.e,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}),Object(te.jsx)(ie,{children:"HOME"})]})})}),Object(te.jsx)(ce,{children:Object(te.jsx)(Z.b,{to:"/Profile",style:{textDecoration:"none"},children:Object(te.jsxs)(re,{children:["/"===t?Object(te.jsx)(_.c,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}):Object(te.jsx)(_.b,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}),Object(te.jsx)(ie,{children:"Profile"})]})})})]})})},se=n(7),le=n.n(se),de=n(13),ue=$.a.div(f||(f=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),je=$.a.input(O||(O=Object(s.a)(["\n  padding: 10;\n  font-weight: 700;\n  border-radius: 30px;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n  border: none;\n  width: 200px;\n"]))),be=$.a.input(g||(g=Object(s.a)(["\n  padding: 10;\n  font-weight: 700;\n  border-radius: 30px;\n  padding: 10px 20px;\n  margin-bottom: 5px;\n  margin-top: 2px;\n  border: none;\n  width: 240px;\n  background-color: #1da1f2;\n"]))),pe=$.a.a(m||(m=Object(s.a)(["\n  color: #1da1f2;\n  font-size: 15px;\n  text-decoration: underline;\n  font-weight: 300;\n  margin-bottom: 30px;\n  font-weight: bold;\n"]))),xe=$.a.span(w||(w=Object(s.a)(["\n  color: white;\n  font-weight: 300;\n"]))),he=function(){var e=Object(a.useState)(void 0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(void 0),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)(),x=Object(o.a)(p,2),h=x[0],f=x[1],O=function(){var e=Object(de.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!1!==j){e.next=9;break}return e.next=5,Q.createUserWithEmailAndPassword(n,s);case 5:e.sent,b(!0),e.next=12;break;case 9:return e.next=11,Q.signInWithEmailAndPassword(n,s);case 11:e.sent;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),f(e.t0.message);case 17:c(""),l("");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.target,n=t.value,a=t.name;"email"===a?c(n):"password"===a&&l(n)};return Object(te.jsx)("form",{onSubmit:O,children:Object(te.jsxs)(ue,{children:[Object(te.jsx)(je,{name:"email",placeholder:"Email",onChange:g,type:"text",value:n,required:!0}),Object(te.jsx)(je,{name:"password",placeholder:"Password",onChange:g,type:"password",value:s,required:!0}),Object(te.jsx)(be,{type:"submit",value:j?"Log in":"Join"}),Object(te.jsx)(pe,{onClick:function(){b(!j)},children:j?"Create Account":"Sign In"}),Object(te.jsx)(xe,{children:h})]})})},fe=n(32),Oe=$.a.div(v||(v=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  flex-direction: column;\n  background-color: black;\n"]))),ge=$.a.div(y||(y=Object(s.a)(["\n  margin-bottom: 30px;\n"]))),me=$.a.div(k||(k=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 240px;\n  justify-content: space-around;\n"]))),we=$.a.button(D||(D=Object(s.a)(["\n  border-radius: 15px;\n  border: none;\n  margin-left: 10px;\n  padding: 3px 15px;\n  font-size: 15px;\n  font-weight: 300;\n  margin-bottom: 10px;\n  color: grey;\n"]))),ve=function(){var e=function(){var e=Object(de.a)(le.a.mark((function e(t){var n,a,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,e.prev=1,"github"===n?a=new l.a.auth.GithubAuthProvider:"google"===n&&(a=new l.a.auth.GoogleAuthProvider),e.next=5,Q.signInWithPopup(a);case 5:c=e.sent,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(te.jsxs)(Oe,{children:[Object(te.jsx)(ge,{children:Object(te.jsx)(fe.c,{style:{color:"#1DA1F2",width:60,height:60}})}),Object(te.jsx)(he,{}),Object(te.jsxs)(me,{children:[Object(te.jsxs)(we,{onClick:e,name:"google",children:[Object(te.jsx)(fe.b,{style:{width:15,height:15}}),Object(te.jsx)("br",{}),"Continue with Google"]}),Object(te.jsxs)(we,{onClick:e,name:"github",children:[Object(te.jsx)(fe.a,{style:{width:15,height:15}}),Object(te.jsx)("br",{}),"Continue with Github"]})]})]})},ye=n(31),ke=n(25),De=$.a.div(S||(S=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Se=$.a.div(C||(C=Object(s.a)(["\n  display: flex;\n  background-color: white;\n  width: 100%;\n  margin-bottom: 35px;\n  border-radius: 15px;\n  max-width: 400px;\n  padding: 10px 15px;\n  flex-direction: column;\n  position: relative;\n  min-height: 40px;\n"]))),Ce=$.a.h3(I||(I=Object(s.a)(["\n  font-size: 20px;\n  font-weight: 400;\n  margin-top: 0;\n  width: 50%;\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]))),Ie=$.a.div(P||(P=Object(s.a)(["\n  display: flex;\n  margin-top: 5px;\n  justify-content: flex-end;\n"]))),Pe=$.a.img(A||(A=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 15px;\n  justify-self: flex-end;\n  position: absolute;\n  right: -5px;\n  top: 50px;\n"]))),Ae=function(e){var t=e.tweetObj,n=e.isTweeter,c=e.imagePath,r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(t.text),u=Object(o.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)("https://media1.tenor.com/images/2d135229987db0745acfc8a277263784/tenor.gif?itemid=12556485"),x=Object(o.a)(p,2),h=x[0],f=x[1],O=X.ref().child(c),g=function(){var e=Object(de.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=7;break}return e.next=3,null===O||void 0===O?void 0:O.getDownloadURL();case 3:t=e.sent,f(t),e.next=8;break;case 7:f(null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("would you like to really delete?")){e.next=6;break}return e.next=3,V.collection("tweets").doc(t.id).delete();case 3:if(!c){e.next=6;break}return e.next=6,O.delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.collection("tweets").doc(t.id).set({text:j},{merge:!0});case 2:l(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),s?Object(te.jsxs)(Se,{children:[Object(te.jsx)("input",{type:"text",value:j,onChange:function(e){b(e.target.value)}}),Object(te.jsx)("input",{type:"submit",value:"Edit",name:"editInit",onClick:w}),Object(te.jsx)("button",{name:"cancelBtn",onClick:function(){l(!1)},children:"Cancel"})]}):Object(te.jsx)(De,{children:Object(te.jsxs)(Se,{children:[Object(te.jsx)(Ie,{children:n?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("button",{name:"deleteInit",onClick:m,children:"Delete"}),Object(te.jsx)("button",{name:"updateBtn",onClick:function(){l(!0)},children:"Update"})]}):null}),Object(te.jsx)(Ce,{children:t.text}),c?Object(te.jsx)(Pe,{src:h}):Object(te.jsx)(te.Fragment,{})]})},t.id)},Fe=n(42),Ue=$.a.div(F||(F=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),Ee=$.a.input(U||(U=Object(s.a)(["\n  border: none;\n  padding: 10px 20px;\n  border-radius: 15px 0 0 15px;\n  width: 100%;\n  overflow: hidden;\n"]))),Be=$.a.div(E||(E=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Re=$.a.form(B||(B=Object(s.a)([""]))),ze=$.a.button(R||(R=Object(s.a)(["\n  border-radius: 0 15px 15px 0;\n  background-color: white;\n  padding: 0;\n  border: none;\n  padding-right: 10px;\n  display: flex;\n  align-items: center;\n"]))),Ge=$.a.img(z||(z=Object(s.a)(["\n  border-radius: 15px;\n  position: absolute;\n  left: 42px;\n  top: 30px;\n"]))),Le=$.a.label(G||(G=Object(s.a)(["\n  cursor: pointer;\n  justify-content: center;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n"]))),Te=$.a.input(L||(L=Object(s.a)(["\n  display: none;\n"]))),Me=$.a.div(T||(T=Object(s.a)(["\n  float: right;\n"]))),Je=$.a.button(M||(M=Object(s.a)(["\n  background: none;\n  border: 1px solid #1da1f2;\n  border-radius: 5px;\n  color: #1da1f2;\n"]))),Ne=function(e){var t=e.imageFile,n=e.userData,c=e.setImageFile,r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],d=function(){var e=Object(de.a)(le.a.mark((function e(a){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("imageInput"),a.preventDefault(),!t){e.next=5;break}return e.next=5,X.ref().child("images/".concat(n.uid,"/").concat(null===t||void 0===t?void 0:t.lastModified)).put(t);case 5:if(""===s){e.next=8;break}return e.next=8,V.collection("tweets").add({text:s,createdAt:Date.now(),userId:n.uid,imagePath:t?"images/".concat(n.uid,"/").concat(null===t||void 0===t?void 0:t.lastModified):""});case 8:l(""),r.value="",c("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(te.jsx)(Ue,{children:Object(te.jsxs)(Re,{onSubmit:d,children:[Object(te.jsxs)(Be,{children:[t?Object(te.jsx)(Ge,{src:URL.createObjectURL(t),style:{width:50,height:50}}):null,Object(te.jsx)(Ee,{onChange:function(e){var t=e.target.value;l(t)},value:s,type:"text",placeholder:"Whats on your mind",id:"tweetInput"}),Object(te.jsx)(ze,{type:"submit",value:"submit",children:Object(te.jsx)(Fe.a,{style:{width:"25px",height:"25px"}})})]}),Object(te.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(te.jsxs)(Le,{htmlFor:"imageInput",style:{color:"white"},children:[Object(te.jsx)("span",{style:{color:"#1da1f2",textAlign:"center"},children:"Add Photos"}),Object(te.jsx)(_.a,{style:{width:"20px",height:"19px",color:"#1DA1F2"}})]}),Object(te.jsx)(Te,{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;c(t[0])},id:"imageInput"})]}),Object(te.jsx)(Me,{style:{float:"right"},children:Object(te.jsx)(Je,{onClick:function(){c(null)},children:"Clear"})})]})})},We=function(e){var t=e.userData,n=Object(a.useState)([]),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),d=l[0],u=l[1],j=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.collection("tweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(ke.a)(Object(ke.a)({},e.data()),{},{id:e.id})}));i(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Ne,Object(ye.a)({imageFile:d,userData:t,setImageFile:u},"imageFile",d)),r.map((function(e){return Object(te.jsx)(Ae,{tweetObj:e,isTweeter:t.uid===e.userId,imagePath:e.imagePath},e.id)}))]})},Ke=$.a.div(J||(J=Object(s.a)(["\n  padding: 40px 40px;\n"]))),Ye=function(e){var t=e.userData;return Object(te.jsx)(Ke,{children:Object(te.jsx)(We,{userData:t})})},qe=function(e){var t=e.userData,n=e.setUserData,c=e.setUpdateProfileState,r=Object(a.useState)(t.displayName),i=Object(o.a)(r,2),s=i[0],l=i[1],d=function(){var e=Object(de.a)(le.a.mark((function e(a){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.displayName===s){e.next=4;break}return e.next=4,t.updateProfile({displayName:s});case 4:try{c(!1),l(s),n({displayName:s,uid:t.uid,updateProfile:function(e){return t.updateProfile(e)}})}catch(r){console.log(r)}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(te.jsxs)("form",{onSubmit:d,children:[Object(te.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;l(t)},value:s||"Undefined"}),Object(te.jsx)("input",{type:"submit",value:"Update Profile"}),Object(te.jsx)("button",{onClick:function(){c((function(e){return!e}))},children:"Back"})]})},He=n(43),Qe=$.a.div(N||(N=Object(s.a)(["\n  padding: 40px 40px;\n"]))),Ve=$.a.div(W||(W=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-bottom: 30px;\n"]))),Xe=$.a.button(K||(K=Object(s.a)(["\n  background-color: #1da1f2;\n  color: white;\n  padding: 2em 3em;\n  border: none;\n  border-radius: 15px;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  outline: none;\n  align-self: center;\n  cursor: pointer;\n  width: 80%;\n  margin-bottom: 15px;\n"]))),Ze=$.a.button(Y||(Y=Object(s.a)(["\n  width: 80%;\n  background-color: #1da1f2;\n  color: black;\n  padding: 2em 3em;\n  border-radius: 15px;\n  border: none;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  outline: none;\n  align-self: center;\n  cursor: pointer;\n"]))),$e=function(e){var t=e.userData,n=e.setUserData,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),u=d[0],j=d[1],b=Object(He.useHistory)(),p=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.signOut();case 2:b.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.collection("tweets").where("userId","==",t.uid).orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(ke.a)(Object(ke.a)({},e.data()),{},{id:e.id})}));j(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){x()}),[]),Object(te.jsx)(Qe,{children:i?Object(te.jsx)(qe,{userData:t,setUserData:n,setUpdateProfileState:s}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(Ve,{children:[Object(te.jsx)(Xe,{onClick:function(){s((function(e){return!e}))},children:"Update Profile"}),Object(te.jsx)(Ze,{onClick:p,children:"Log Out"})]}),Object(te.jsx)("h1",{style:{color:"#1da1f2"},children:"MY TWEETS"}),u.map((function(e){return Object(te.jsx)(Ae,{tweetObj:e,isTweeter:!0,imagePath:e.imagePath},e.createdAt)}))]})})},_e=function(e){var t=e.loggedIn,n=e.userData,a=e.setUserData;return t?Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(Z.a,{children:[Object(te.jsxs)(ee.Switch,{children:[Object(te.jsx)(ee.Route,{path:"/",exact:!0,children:Object(te.jsx)(Ye,{userData:n})}),Object(te.jsx)(ee.Route,{path:"/profile",exact:!0,children:Object(te.jsx)($e,{userData:n,setUserData:a})})]}),Object(te.jsx)(oe,{userData:n})]})}):Object(te.jsx)(Z.a,{children:Object(te.jsx)(ee.Switch,{children:Object(te.jsx)(ee.Route,{path:"/",exact:!0,children:Object(te.jsx)(ve,{})})})})},et=$.a.footer(q||(q=Object(s.a)(["\n  color: white;\n  width: 100vw;\n  text-align: center;\n  font-weight: 300;\n  position: absolute;\n  bottom: 50px;\n"]))),tt=$.a.div(H||(H=Object(s.a)(["\n  min-height: 100vh;\n  position: relative;\n"])));var nt=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(),u=Object(o.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){Q.onAuthStateChanged((function(e){e?(c(!0),b(e)):c(!1),l(!0)}))}),[]),Object(te.jsxs)(tt,{children:[s?Object(te.jsx)(_e,{loggedIn:n,userData:j,setUserData:b}):Object(te.jsx)("h1",{children:"LOADING..."}),Object(te.jsx)(et,{children:Object(te.jsxs)("span",{children:["\xa9",(new Date).getFullYear()," TwitterClone By Minseok"]})})]})};i.a.render(Object(te.jsx)(c.a.StrictMode,{children:Object(te.jsx)(nt,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.2e7bd5a2.chunk.js.map