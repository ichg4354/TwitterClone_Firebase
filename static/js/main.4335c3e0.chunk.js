(this.webpackJsonptwitterclone=this.webpackJsonptwitterclone||[]).push([[0],{59:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(38),i=n.n(r),o=n(10),s=n(6),l=n(21),u=n(39),d=n.n(u);n(51),n(60),n(61);d.a.config();l.a.initializeApp({apiKey:"AIzaSyBRYla7GovJIG7xkPKORfCIoIXa-JTKV9Q",authDomain:"twitterclone-2e56e.firebaseapp.com",projectId:"twitterclone-2e56e",storageBucket:"twitterclone-2e56e.appspot.com",messagingSenderId:"640360778098",appId:"1:640360778098:web:2bed7b4ac6efa31aa3b5eb"});var j,b,p,x,h,f,O,g,m,w,v,y,k,D,S,C,I,P,A,F,U,E,B,R,z,G,L,T,M,J,N,W,K,Y,q,H,Q=l.a.auth(),V=l.a.firestore(),X=l.a.storage(),Z=n(22),$=n(5),_=n(24),ee=n(11),te=n(9),ne=n(2),ae=$.a.div(j||(j=Object(s.a)(["\n  height: 50px;\n  color: white;\n  display: flex;\n  position: fixed;\n  bottom: 0;\n  text-align: center;\n  width: 100vw;\n  z-index: 1;\n  background-color: black;\n  justify-content: space-evenly;\n  align-items: center;\n"]))),ce=$.a.ul(b||(b=Object(s.a)(["\n  text-decoration: none;\n  float: left;\n  list-style-type: none;\n  color: white;\n  padding: 0;\n  margin: 0;\n"]))),re=$.a.li(p||(p=Object(s.a)(["\n  text-decoration: none;\n  float: left;\n  padding: 0;\n"]))),ie=$.a.div(x||(x=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100px;\n  text-align: center;\n"]))),oe=$.a.span(h||(h=Object(s.a)(["\n  color: #1da1f2;\n  font-size: 6;\n  font-weight: 300;\n  text-decoration: none;\n"]))),se=function(e){e.userData;var t=Object(ee.useLocation)().pathname;return Object(ne.jsx)(ae,{children:Object(ne.jsxs)(ce,{children:[Object(ne.jsx)(re,{children:Object(ne.jsx)(Z.b,{to:"/",style:{textDecoration:"none"},children:Object(ne.jsxs)(ie,{children:["/"===t?Object(ne.jsx)(_.d,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}):Object(ne.jsx)(_.e,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}),Object(ne.jsx)(oe,{children:"HOME"})]})})}),Object(ne.jsx)(re,{children:Object(ne.jsx)(Z.b,{to:"/Profile",style:{textDecoration:"none"},children:Object(ne.jsxs)(ie,{children:["/"===t?Object(ne.jsx)(_.c,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}):Object(ne.jsx)(_.b,{style:{width:"30px",height:"30px",color:"#1DA1F2"}}),Object(ne.jsx)(oe,{children:"Profile"})]})})})]})})},le=n(7),ue=n.n(le),de=n(14),je=$.a.div(f||(f=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),be=$.a.input(O||(O=Object(s.a)(["\n  padding: 10;\n  font-weight: 700;\n  border-radius: 30px;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n  border: none;\n  width: 200px;\n"]))),pe=$.a.input(g||(g=Object(s.a)(["\n  padding: 10;\n  font-weight: 700;\n  border-radius: 30px;\n  padding: 10px 20px;\n  margin-bottom: 5px;\n  margin-top: 2px;\n  border: none;\n  width: 240px;\n  background-color: #1da1f2;\n"]))),xe=$.a.a(m||(m=Object(s.a)(["\n  color: #1da1f2;\n  font-size: 15px;\n  text-decoration: underline;\n  font-weight: 300;\n  margin-bottom: 30px;\n  font-weight: bold;\n"]))),he=$.a.span(w||(w=Object(s.a)(["\n  color: white;\n  font-weight: 300;\n"]))),fe=function(){var e=Object(te.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(te.useState)(""),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(te.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(te.useState)(),p=Object(o.a)(b,2),x=p[0],h=p[1],f=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!1!==d){e.next=9;break}return e.next=5,Q.createUserWithEmailAndPassword(n,i);case 5:e.sent,j(!0),e.next=12;break;case 9:return e.next=11,Q.signInWithEmailAndPassword(n,i);case 11:e.sent;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),h(e.t0.message);case 17:a(""),s("");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.target,n=t.value,c=t.name;"email"===c?a(n):"password"===c&&s(n)};return Object(ne.jsx)("form",{onSubmit:f,children:Object(ne.jsxs)(je,{children:[Object(ne.jsx)(be,{name:"email",placeholder:"Email",onChange:O,type:"text",value:n,required:!0}),Object(ne.jsx)(be,{name:"password",placeholder:"Password",onChange:O,type:"password",value:i,required:!0}),Object(ne.jsx)(pe,{type:"submit",value:d?"Log in":"Join"}),Object(ne.jsx)(xe,{onClick:function(){j(!d)},children:d?"Create Account":"Sign In"}),Object(ne.jsx)(he,{children:x})]})})},Oe=n(33),ge=$.a.div(v||(v=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  flex-direction: column;\n  background-color: black;\n"]))),me=$.a.div(y||(y=Object(s.a)(["\n  margin-bottom: 30px;\n"]))),we=$.a.div(k||(k=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 240px;\n  justify-content: space-around;\n"]))),ve=$.a.button(D||(D=Object(s.a)(["\n  border-radius: 15px;\n  border: none;\n  margin-left: 10px;\n  padding: 3px 15px;\n  font-size: 15px;\n  font-weight: 300;\n  margin-bottom: 10px;\n  color: grey;\n"]))),ye=function(){var e=function(){var e=Object(de.a)(ue.a.mark((function e(t){var n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,e.prev=1,"github"===n?a=new l.a.auth.GithubAuthProvider:"google"===n&&(a=new l.a.auth.GoogleAuthProvider),e.next=5,Q.signInWithPopup(a);case 5:c=e.sent,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsxs)(ge,{children:[Object(ne.jsx)(me,{children:Object(ne.jsx)(Oe.c,{style:{color:"#1DA1F2",width:60,height:60}})}),Object(ne.jsx)(fe,{}),Object(ne.jsxs)(we,{children:[Object(ne.jsxs)(ve,{onClick:e,name:"google",children:[Object(ne.jsx)(Oe.b,{style:{width:15,height:15}}),Object(ne.jsx)("br",{}),"Continue with Google"]}),Object(ne.jsxs)(ve,{onClick:e,name:"github",children:[Object(ne.jsx)(Oe.a,{style:{width:15,height:15}}),Object(ne.jsx)("br",{}),"Continue with Github"]})]})]})},ke=n(32),De=n(26),Se=$.a.div(S||(S=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Ce=$.a.div(C||(C=Object(s.a)(["\n  display: flex;\n  background-color: white;\n  width: 100%;\n  margin-bottom: 35px;\n  border-radius: 15px;\n  max-width: 400px;\n  padding: 10px 15px;\n  flex-direction: column;\n  position: relative;\n  min-height: 40px;\n"]))),Ie=$.a.h3(I||(I=Object(s.a)(["\n  font-size: 20px;\n  font-weight: 400;\n  margin-top: 0;\n  width: 50%;\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]))),Pe=$.a.div(P||(P=Object(s.a)(["\n  display: flex;\n  margin-top: 5px;\n  justify-content: flex-end;\n"]))),Ae=$.a.img(A||(A=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 15px;\n  justify-self: flex-end;\n  position: absolute;\n  right: -5px;\n  top: 50px;\n"]))),Fe=function(e){var t=e.tweetObj,n=e.isTweeter,a=e.imagePath,c=Object(te.useState)(!1),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(te.useState)(t.text),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(te.useState)("https://media1.tenor.com/images/2d135229987db0745acfc8a277263784/tenor.gif?itemid=12556485"),p=Object(o.a)(b,2),x=p[0],h=p[1],f=X.ref().child(a),O=function(){var e=Object(de.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,null===f||void 0===f?void 0:f.getDownloadURL();case 3:t=e.sent,h(t),e.next=8;break;case 7:h(null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("would you like to really delete?")){e.next=6;break}return e.next=3,V.collection("tweets").doc(t.id).delete();case 3:if(!a){e.next=6;break}return e.next=6,f.delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.collection("tweets").doc(t.id).set({text:d},{merge:!0});case 2:s(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.useEffect)((function(){O()}),[]),i?Object(ne.jsxs)(Ce,{children:[Object(ne.jsx)("input",{type:"text",value:d,onChange:function(e){j(e.target.value)}}),Object(ne.jsx)("input",{type:"submit",value:"Edit",name:"editInit",onClick:m}),Object(ne.jsx)("button",{name:"cancelBtn",onClick:function(){s(!1)},children:"Cancel"})]}):Object(ne.jsx)(Se,{children:Object(ne.jsxs)(Ce,{children:[Object(ne.jsx)(Pe,{children:n?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("button",{name:"deleteInit",onClick:g,children:"Delete"}),Object(ne.jsx)("button",{name:"updateBtn",onClick:function(){s(!0)},children:"Update"})]}):null}),Object(ne.jsx)(Ie,{children:t.text}),a?Object(ne.jsx)(Ae,{src:x}):Object(ne.jsx)(ne.Fragment,{})]})},t.id)},Ue=n(43),Ee=$.a.div(F||(F=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),Be=$.a.input(U||(U=Object(s.a)(["\n  border: none;\n  padding: 10px 20px;\n  border-radius: 15px 0 0 15px;\n  width: 100%;\n  overflow: hidden;\n"]))),Re=$.a.div(E||(E=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]))),ze=$.a.form(B||(B=Object(s.a)([""]))),Ge=$.a.button(R||(R=Object(s.a)(["\n  border-radius: 0 15px 15px 0;\n  background-color: white;\n  padding: 0;\n  border: none;\n  padding-right: 10px;\n  display: flex;\n  align-items: center;\n"]))),Le=$.a.img(z||(z=Object(s.a)(["\n  border-radius: 15px;\n  position: absolute;\n  left: 42px;\n  top: 30px;\n"]))),Te=$.a.label(G||(G=Object(s.a)(["\n  cursor: pointer;\n  justify-content: center;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n"]))),Me=$.a.input(L||(L=Object(s.a)(["\n  display: none;\n"]))),Je=$.a.div(T||(T=Object(s.a)(["\n  float: right;\n"]))),Ne=$.a.button(M||(M=Object(s.a)(["\n  background: none;\n  border: 1px solid #1da1f2;\n  border-radius: 5px;\n  color: #1da1f2;\n"]))),We=function(e){var t=e.imageFile,n=e.userData,a=e.setImageFile,c=Object(te.useState)(""),r=Object(o.a)(c,2),i=r[0],s=r[1],l=function(){var e=Object(de.a)(ue.a.mark((function e(c){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("imageInput"),c.preventDefault(),!t){e.next=5;break}return e.next=5,X.ref().child("images/".concat(n.uid,"/").concat(null===t||void 0===t?void 0:t.lastModified)).put(t);case 5:if(""===i){e.next=8;break}return e.next=8,V.collection("tweets").add({text:i,createdAt:Date.now(),userId:n.uid,imagePath:t?"images/".concat(n.uid,"/").concat(null===t||void 0===t?void 0:t.lastModified):""});case 8:s(""),r.value="",a("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsx)(Ee,{children:Object(ne.jsxs)(ze,{onSubmit:l,children:[Object(ne.jsxs)(Re,{children:[t?Object(ne.jsx)(Le,{src:URL.createObjectURL(t),style:{width:50,height:50}}):null,Object(ne.jsx)(Be,{onChange:function(e){var t=e.target.value;s(t)},value:i,type:"text",placeholder:"Whats on your mind",id:"tweetInput"}),Object(ne.jsx)(Ge,{type:"submit",value:"submit",children:Object(ne.jsx)(Ue.a,{style:{width:"25px",height:"25px"}})})]}),Object(ne.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(ne.jsxs)(Te,{htmlFor:"imageInput",style:{color:"white"},children:[Object(ne.jsx)("span",{style:{color:"#1da1f2",textAlign:"center"},children:"Add Photos"}),Object(ne.jsx)(_.a,{style:{width:"20px",height:"19px",color:"#1DA1F2"}})]}),Object(ne.jsx)(Me,{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;a(t[0])},id:"imageInput"})]}),Object(ne.jsx)(Je,{style:{float:"right"},children:Object(ne.jsx)(Ne,{onClick:function(){a(null)},children:"Clear"})})]})})},Ke=function(e){var t=e.userData,n=Object(te.useState)([]),a=Object(o.a)(n,2),c=a[0],r=a[1],i=Object(te.useState)(""),s=Object(o.a)(i,2),l=s[0],u=s[1],d=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.collection("tweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(De.a)(Object(De.a)({},e.data()),{},{id:e.id})}));r(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.useEffect)((function(){d()}),[]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(We,Object(ke.a)({imageFile:l,userData:t,setImageFile:u},"imageFile",l)),c.map((function(e){return Object(ne.jsx)(Fe,{tweetObj:e,isTweeter:t.uid===e.userId,imagePath:e.imagePath},e.id)}))]})},Ye=$.a.div(J||(J=Object(s.a)(["\n  padding: 40px 40px;\n"]))),qe=function(e){var t=e.userData;return Object(ne.jsx)(Ye,{children:Object(ne.jsx)(Ke,{userData:t})})},He=function(e){var t=e.userData,n=e.setUserData,a=e.setUpdateProfileState,c=Object(te.useState)(t.displayName),r=Object(o.a)(c,2),i=r[0],s=r[1],l=function(){var e=Object(de.a)(ue.a.mark((function e(c){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),t.displayName===i){e.next=4;break}return e.next=4,t.updateProfile({displayName:i});case 4:try{a(!1),s(i),n({displayName:i,uid:t.uid,updateProfile:function(e){return t.updateProfile(e)}})}catch(r){console.log(r)}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsxs)("form",{onSubmit:l,children:[Object(ne.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;s(t)},value:i||"Undefined"}),Object(ne.jsx)("input",{type:"submit",value:"Update Profile"}),Object(ne.jsx)("button",{onClick:function(){a((function(e){return!e}))},children:"Back"})]})},Qe=n(44),Ve=$.a.div(N||(N=Object(s.a)(["\n  padding: 40px 40px;\n"]))),Xe=$.a.div(W||(W=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-bottom: 30px;\n"]))),Ze=$.a.button(K||(K=Object(s.a)(["\n  background-color: #1da1f2;\n  color: white;\n  padding: 2em 3em;\n  border: none;\n  border-radius: 15px;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  outline: none;\n  align-self: center;\n  cursor: pointer;\n  width: 80%;\n  margin-bottom: 15px;\n"]))),$e=$.a.button(Y||(Y=Object(s.a)(["\n  width: 80%;\n  background-color: #1da1f2;\n  color: black;\n  padding: 2em 3em;\n  border-radius: 15px;\n  border: none;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  outline: none;\n  align-self: center;\n  cursor: pointer;\n"]))),_e=function(e){var t=e.userData,n=e.setUserData,a=Object(te.useState)(!1),c=Object(o.a)(a,2),r=c[0],i=c[1],s=Object(te.useState)([]),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(Qe.useHistory)(),b=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.signOut();case 2:j.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.collection("tweets").where("userId","==",t.uid).orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(De.a)(Object(De.a)({},e.data()),{},{id:e.id})}));d(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.useEffect)((function(){p()}),[]),Object(ne.jsx)(Ve,{children:r?Object(ne.jsx)(He,{userData:t,setUserData:n,setUpdateProfileState:i}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(Xe,{children:[Object(ne.jsx)(Ze,{onClick:function(){i((function(e){return!e}))},children:"Update Profile"}),Object(ne.jsx)($e,{onClick:b,children:"Log Out"})]}),Object(ne.jsx)("h1",{style:{color:"#1da1f2"},children:"MY TWEETS"}),u.map((function(e){return Object(ne.jsx)(Fe,{tweetObj:e,isTweeter:!0,imagePath:e.imagePath},e.createdAt)}))]})})},et=function(e){var t=e.loggedIn,n=e.userData,a=e.setUserData;return t?Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(Z.a,{children:[Object(ne.jsxs)(ee.Switch,{children:[Object(ne.jsx)(ee.Route,{path:"/",exact:!0,children:Object(ne.jsx)(qe,{userData:n})}),Object(ne.jsx)(ee.Route,{path:"/profile",exact:!0,children:Object(ne.jsx)(_e,{userData:n,setUserData:a})})]}),Object(ne.jsx)(se,{userData:n})]})}):Object(ne.jsx)(Z.a,{children:Object(ne.jsx)(ee.Switch,{children:Object(ne.jsx)(ee.Route,{path:"/",exact:!0,children:Object(ne.jsx)(ye,{})})})})},tt=$.a.footer(q||(q=Object(s.a)(["\n  color: white;\n  width: 100vw;\n  text-align: center;\n  font-weight: 300;\n  position: absolute;\n  bottom: 50px;\n"]))),nt=$.a.div(H||(H=Object(s.a)(["\n  min-height: 100vh;\n  position: relative;\n"])));var at=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(),d=Object(o.a)(u,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){Q.onAuthStateChanged((function(e){e?(c(!0),b(e)):c(!1),l(!0)}))}),[]),Object(ne.jsxs)(nt,{children:[s?Object(ne.jsx)(et,{loggedIn:n,userData:j,setUserData:b}):Object(ne.jsx)("h1",{children:"LOADING..."}),Object(ne.jsx)(tt,{children:Object(ne.jsxs)("span",{children:["\xa9",(new Date).getFullYear()," TwitterClone By Minseok"]})})]})};i.a.render(Object(ne.jsx)(c.a.StrictMode,{children:Object(ne.jsx)(at,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.4335c3e0.chunk.js.map